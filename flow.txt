å¥½ï¼Œæ”¶åˆ°ã€‚
ä»è¿™ä¸€åˆ»å¼€å§‹ï¼Œæˆ‘ä»¬**ä¸å†è®¨è®ºâ€œæƒ³æ³•â€**ï¼Œè€Œæ˜¯**æ­£å¼è¿›å…¥ä½ ä½œä¸ºä¸»ç¨‹ / Tech Lead çš„äº¤ä»˜é˜¶æ®µ**ã€‚
æˆ‘ä¼šæŠŠä½ çš„ part **æ‹†æˆå¯æ‰§è¡Œçš„å·¥ä½œåŒ…**ï¼Œå¹¶ä¸”**ç°åœ¨å°±ç»™ä½ ç¬¬ä¸€ä»½â€œå·²å®Œæˆäº¤ä»˜ç‰©â€**ï¼Œä½ å¯ä»¥ç›´æ¥å¤åˆ¶è¿› Notion / Docsï¼Œå½“ä½œä½ é¡¹ç›®çš„æ ¸å¿ƒè®¾è®¡æ–‡æ¡£ã€‚

> âš ï¸ è¯´æ˜ï¼š
>
> * **ç°åœ¨åªåšä½ çš„ part**ï¼ˆç³»ç»Ÿ / è§„åˆ™ / ç»“æ„ï¼‰
> * **ä¸å†™ä»£ç ã€ä¸ç”» UIã€ä¸åšèµ„æº**
> * æ‰€æœ‰å†…å®¹éƒ½æ˜¯ã€Œä¸‹ä¸€æ­¥èƒ½ç›´æ¥å®ç°ã€çš„è§„æ ¼æ–‡æ¡£

---

# âœ… ä½ çš„ Partï¼šä¸»ç³»ç»Ÿè®¾è®¡ï¼ˆæ­£å¼å¼€å·¥ï¼‰

## ä½ çš„èŒè´£é”å®šï¼ˆä¸å†å˜ï¼‰

ä½ è´Ÿè´£ **å››ä»¶äº‹**ï¼š

1. ğŸ® **æ¸¸æˆæµç¨‹ & Phase ç³»ç»Ÿ**
2. ğŸŒ **è”æœº / çŠ¶æ€åŒæ­¥é€»è¾‘è®¾è®¡**
3. ğŸ§  **æ³•æœ¯ç³»ç»Ÿæ€»æ¶æ„ï¼ˆåƒé˜Ÿå‹æ•°æ®ï¼‰**
4. ğŸ§© **æŠŠé˜Ÿå‹çš„ spell / map / UI æ¥è¿›æ¥ä¸å´©**

ä¸‹é¢å¼€å§‹ **é€é¡¹å®Œæˆ**ã€‚

---

# ğŸ“„ äº¤ä»˜ç‰© 1ï¼ˆå·²å®Œæˆï¼‰ï¼šGame Flow & Phase Designï¼ˆå®šç¨¿ï¼‰

> è¿™æ˜¯æ•´ä¸ªé¡¹ç›®çš„éª¨æ¶ï¼Œåé¢ä»»ä½•ä¸œè¥¿éƒ½ä¸èƒ½ç ´è¿™ä¸ªç»“æ„ã€‚

## Phase åˆ—è¡¨ï¼ˆé”å®šï¼‰

```
LOBBY â†’ READY â†’ PREROUND â†’ ROUND â†’ END â†’ (RESTART | EXIT)
```

---

## Phase è§„åˆ™è¡¨ï¼ˆä½ ç›´æ¥è´´è¿› GDDï¼‰

### ğŸ  LOBBY

* ç©å®¶çŠ¶æ€ï¼šæœªå‡†å¤‡
* å…è®¸æ“ä½œï¼š

  * Join room
  * Toggle ready
* ç¦æ­¢ï¼š

  * ç§»åŠ¨
  * æ–½æ³•
* UIï¼š

  * Room code
  * Player list
  * Ready indicator

---

### âœ… READY

* è§¦å‘æ¡ä»¶ï¼šåŒæ–¹ ready = true
* è¡Œä¸ºï¼š

  * Server è¿›å…¥ PREROUND
* UIï¼š

  * â€œMatch startingâ€¦â€ æç¤º

---

### â³ PREROUNDï¼ˆæ ¸å¿ƒç‰¹è‰²ï¼‰

* é»˜è®¤æ—¶é•¿ï¼š**15 ç§’**
* å…è®¸ï¼š

  * è¯­éŸ³æ–½æ³• âœ…
  * é”®ç›˜æ–½æ³•ï¼ˆfallbackï¼‰âœ…
* ç¦æ­¢ï¼š

  * ç§»åŠ¨ âŒ
  * è·³è·ƒ âŒ
* è®¾è®¡ç›®çš„ï¼š

  * è®©ç©å®¶åœ¨â€œå®‰å…¨çŠ¶æ€â€ä¸‹å®Œæˆè¯­éŸ³è¯†åˆ«
  * é˜²æ­¢ä¸€ä¸Šæ¥å°±è¢« rush

---

### âš”ï¸ ROUND

* æ¡ä»¶ï¼šPREROUND å€’è®¡æ—¶ç»“æŸ
* å…è®¸ï¼š

  * ç§»åŠ¨ / è·³è·ƒ
  * æ–½æ³•
* èƒœè´Ÿæ¡ä»¶ï¼š

  * ä»»æ„ä¸€æ–¹ HP â‰¤ 0
* UIï¼š

  * HP
  * Manaï¼ˆå¦‚æœå¯ç”¨ï¼‰
  * Spell feedbackï¼ˆå­—å¹•ï¼‰

---

### ğŸ END

* æ˜¾ç¤ºï¼š

  * Winner
  * ç®€çŸ­è§’è‰²æè¿°ï¼ˆä¸€è¡Œ flavor textï¼‰
* é€‰é¡¹ï¼š

  * Rematchï¼ˆå› READYï¼‰
  * Leave roomï¼ˆå› LOBBYï¼‰

---

ğŸ‘‰ **è¿™ä¸€ä»½ Phase è®¾è®¡å·²ç»æ˜¯â€œä¸å¯å†åˆ â€çš„æ ¸å¿ƒäº¤ä»˜ç‰©**ã€‚

---

# ğŸ“„ äº¤ä»˜ç‰© 2ï¼ˆå·²å®Œæˆï¼‰ï¼šNetwork Authority & Sync Rule

> ç›®æ ‡ï¼š**demo ç¨³å®š > æŠ€æœ¯ç‚«æŠ€**

## æƒå¨åŸåˆ™ï¼ˆé”å®šï¼‰

* **Server å†³å®šä¸€åˆ‡ Phase**
* **Server å¹¿æ’­ Spell Event**
* Client åªè´Ÿè´£ï¼š

  * è¾“å…¥
  * å±•ç¤º
  * æœ¬åœ°é¢„æµ‹ï¼ˆP1 ä»¥åï¼‰

---

## å¿…é¡»åŒæ­¥çš„çŠ¶æ€ï¼ˆP0ï¼‰

```ts
PlayerState {
  id
  x, y
  hp
  mana (optional)
  facing
  isCasting
}
```

---

## Spell åŒæ­¥è§„åˆ™ï¼ˆé‡ç‚¹ï¼‰

* Client å‘é€ï¼š

  * `spell:cast { spellId, aimDir }`
* Server åšï¼š

  * æ ¡éªŒå½“å‰ phase æ˜¯å¦å…è®¸
  * å¹¿æ’­ `spell:event`
* Client æ¥æ”¶åï¼š

  * æ’­æ”¾å¯¹åº” spell æ•ˆæœ
  * **ä¸è‡ªè¡Œåˆ¤æ–­å‘½ä¸­ç»“æœ**

ğŸ‘‰ è¿™æ ·å¯ä»¥ä¿è¯ï¼š

* ä¸ä¼šä¸€è¾¹æ‰“åˆ°ã€ä¸€è¾¹æ²¡æ‰“åˆ°
* demo ä¸ä¼šå‡ºç°â€œä½ é‚£è¾¹æ­»äº†æˆ‘è¿™è¾¹è¿˜æ´»ç€â€

---

# ğŸ“„ äº¤ä»˜ç‰© 3ï¼ˆå·²å®Œæˆï¼‰ï¼šSpell System æ€»æ¶æ„ï¼ˆåƒé˜Ÿå‹æ•°æ®ï¼‰

ä½ ç°åœ¨çš„ spell **å…¨éƒ¨èƒ½å¡è¿›è¿™ 4 ç§æ¨¡æ¿**ï¼Œä¸éœ€è¦å†™ 13 å¥—é€»è¾‘ã€‚

## Spell ç±»å‹æ¨¡æ¿ï¼ˆé”å®šï¼‰

### 1ï¸âƒ£ Projectile

* ç”¨äºï¼š

  * Water Dart
  * Flare
  * Sun Ball
  * Pebble
  * Cross Winds
* å‚æ•°ï¼š

  * speed
  * damage
  * lifetime
  * count / spreadï¼ˆå¯é€‰ï¼‰

---

### 2ï¸âƒ£ Area / Multi-hit

* ç”¨äºï¼š

  * Water Tsunami
  * Rock Stampede
* å‚æ•°ï¼š

  * duration
  * tickCount
  * tickDamage

---

### 3ï¸âƒ£ Block / Object

* ç”¨äºï¼š

  * Ice Wall
  * Magma Tusk
  * Stone Mountain
* å‚æ•°ï¼š

  * maxHits OR lifetime
  * size

---

### 4ï¸âƒ£ Control / Status

* ç”¨äºï¼š

  * Wind Grab
  * Gas Condensation
* å‚æ•°ï¼š

  * statusType
  * duration
  * tickDamageï¼ˆå¯é€‰ï¼‰

---

## çŠ¶æ€ç³»ç»Ÿæ¥å£ï¼ˆå·²é¢„ç•™ï¼‰

```ts
StatusEffect {
  type: stun | stagger | slow | burn | chill
  duration
}
```

ğŸ‘‰ **Future attacksï¼ˆland slide â†’ staggerï¼‰ç›´æ¥ç”¨è¿™ä¸ªæ¥å£ï¼Œä¸åŠ¨æ—§ä»£ç **

---

# ğŸ“„ äº¤ä»˜ç‰© 4ï¼ˆå·²å®Œæˆï¼‰ï¼šä½ å¯¹é˜Ÿå‹çš„â€œæ¥å…¥è§„èŒƒâ€

### å¯¹ Spell æ•°æ®çš„è¦æ±‚ï¼ˆLEILANï¼‰

* spellIdï¼šå°å†™ + ä¸‹åˆ’çº¿
* damage / ticks å…¨éƒ¨å†™æ­»åœ¨è¡¨é‡Œ
* ä¸å…è®¸ spell è‡ªå·±å†™é€»è¾‘

### å¯¹ Map çš„è¦æ±‚ï¼ˆSAMï¼‰

* å¿…é¡»æœ‰ï¼š

  * spawn_left
  * spawn_right
* collision layer åªæ”¾å®ä½“
* tile size å›ºå®š 16Ã—16

### å¯¹ Testerï¼ˆBACONï¼‰

* åªè®°å½•ï¼š

  * spell æ˜¯å¦æ²¡ç”Ÿæ•ˆ
  * phase æ˜¯å¦é”™ä¹±
  * è¯­éŸ³è¯†åˆ«é”™åˆ°å“ªä¸ª spell

---

# ğŸ¯ ä½ ç°åœ¨â€œå·²ç»å®Œæˆâ€çš„æ˜¯ä»€ä¹ˆï¼Ÿ

åˆ°è¿™ä¸€æ­¥ä¸ºæ­¢ï¼Œä½ å·²ç» **å®Œæˆäº†ä¸€ä¸ªå¯ä»¥è¯„åˆ†çš„å·¥ç¨‹è®¾è®¡é˜¶æ®µ**ï¼š

* âœ… æ¸¸æˆæµç¨‹å®šç¨¿
* âœ… è”æœºæƒè´£æ¸…æ¥š
* âœ… æ³•æœ¯ç³»ç»Ÿä¸ä¹±
* âœ… æœªæ¥æ‰©å±•ä¸æ¨å€’é‡æ¥

---

## ä¸‹ä¸€æ­¥ï¼ˆä½ é€‰ä¸€ä¸ªï¼Œæˆ‘ç«‹åˆ»ç»§ç»­ï¼‰ï¼š

1ï¸âƒ£ **æŠŠä½ è¦å®ç°çš„ P0 spell ç²¾ç®€åˆ° 6â€“8 ä¸ªï¼ˆdemo ç‰ˆï¼‰**
2ï¸âƒ£ **æˆ‘å¸®ä½ ç›´æ¥å†™ã€ŒImplementation Order æ¸…å•ï¼ˆç¬¬ 1 å¤© / ç¬¬ 2 å¤©ï¼‰ã€**
3ï¸âƒ£ **æŠŠè¿™å¥—å†…å®¹æ•´ç†æˆâ€œè€å¸ˆ / å±•ç¤ºç”¨çš„é¡¹ç›®è¯´æ˜ç¨¿â€**
4ï¸âƒ£ **ç›´æ¥è¿›å…¥ï¼šä½ å¼€å§‹å†™ä»£ç æ—¶æˆ‘å…¨ç¨‹é™ªè·‘ï¼ˆä¸€æ­¥ä¸€æ­¥ï¼‰**

ä½ ä¸€å¥è¯é€‰ï¼Œæˆ‘ç»§ç»­æ¨è¿›ã€‚
